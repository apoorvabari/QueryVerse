package com.example.courses.service;

import com.example.courses.model.Course;
import com.example.courses.repository.CourseRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.List;

@Service
public class CourseService {

	@Autowired
	private CourseRepository courseRepository;

	public List<Course> getAllCourses() {
		return courseRepository.findAll();
	}

	public Course getCourseById(Long id) {
		return courseRepository.findById(id).orElse(null);
	}

	public Course saveCourse(Course course) {
		return courseRepository.save(course);
	}

	// Add to your existing CourseService class
	// In your CourseService.java
	public Course updateCourse(Long id, Course courseDetails) {
		return courseRepository.findById(id).map(course -> {
			course.setName(courseDetails.getName());
			course.setSubjects(courseDetails.getSubjects()); // This will use the new method
			return courseRepository.save(course);
		}).orElse(null);
	}

	public boolean deleteCourse(Long id) {
		if (courseRepository.existsById(id)) {
			courseRepository.deleteById(id);
			return true;
		}
		return false;
	}
}